len <- function(x) {
return(length(x))
}
### Load libraries
Sys.setlocale("LC_ALL", "C")
library(raster)
library(readr)
library(jsonlite)
library(magrittr)
library(RJSONIO)
### Set directory
setwd("~/Documents/pipeline_old/m5Nph2Ef")
all <- RJSONIO::fromJSON("batch/2017-08-09.json")
len(all)
all[0]
all[1]
test <- all[sample(1:len(a), 5000)]
test <- all[sample(1:len(all), 5000)]
test <- as.data.frame(test)
View(test)
size(test)
dim(tesT)
dim(test)
??simplify2array
test <- all[sample(1:len(all), 5000)]
t <- simplify2array(test)
size(t)
len(t)
215000/5000
len(t)
colnames(t)
names(t)
len(t)
len(t)
test <- all[sample(1:len(all), 5000)]
t <- RJSONIO::fromJSON(test) %>% as.data.frame
t <- test %>% as.data.frame
len(t)
len(t)
len(t)
len(t)
len(t)
len(t)
t[0]
t[1]
t[2]
t[3]
t[4]
z <- sapply(X = test, FUN = f <- function(l) length(unlist(l)))
len(z)
View(z)
t <- data.frame()
test[0]
test[1]
test[[1]]
as.data.frame(test[[1]])
as.data.frame(test[[1:3]])
as.data.frame(test[[1]])
for (i in len(test)) {
t <- rbind(t, as.data.frame(test[[i]]))
}
View(test)
test <- all[sample(1:len(all), 1000)]
rm(z)
rm(i)
rm(all)
len(test)
for (i in len(test)) {
t <- rbind(t, as.data.frame(test[[i]]))
}
i=1
as.data.frame(test[[i]])
t <- rbind(t, as.data.frame(test[[i]]))
t
t
t <- data.frame()
t <- rbind(t, as.data.frame(test[[i]]))
View(t)
t['prod_id']
t['prod_id'][0]
i=2
t <- rbind(t, as.data.frame(test[[i]]))
t
View(t)
i
len(t)
test[[2]]
test[[2]]['prod_id']
test[[2]]['prod_id']
test[[2]]['prod_id'][0]
test[[2]]['prod_id'][1]
test[[2]]['prod_id']
z = test[[2]]['prod_id']
z
typeof(z)
typeof(unlist(z))
option(digits=20)
options(digits=22)
z = test[[2]]['prod_id']
typeof(unlist(z))
z
z
z
z
z
z
options(digits=22)
test_backup <- test
t <- data.frame()
View(test)
i=1
t <- data.frame()
t <- rbind(t, as.data.frame(unlist(test[[i]])))
t
i=2
t <- rbind(t, as.data.frame(unlist(test[[i]])))
View(t)
unlist(test[[i]])
test[[i]]
as.data.frame(test[[i]])
View(as.data.frame(test[[i]]))
i=1
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- data.frame()
t <- rbind(t, as.data.frame(unlist(test[[i]])))
t
i=2
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(unlist(test[[i]])))
View(t)
i=1
t <- data.frame()
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
View(t)
i=2
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
View(t)
t['prod_id']
t['prod_id'][2]
t[2,'prod_id']
typeof(t[2,'prod_id'])
t[2,'prod_id']
levels(t[2,'prod_id'])
factors(t[2,'prod_id'])
factor(t[2,'prod_id'])
factor(t[2,'prod_id'])
test[[1]]
test[[1]]['prod_id']
test[[2]]['prod_id']
test[[3]]['prod_id']
test[[4]]['prod_id']
test[[5]]['prod_id']
t <- data.frame()
len(test)
for (i in len(test)) {
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
}
View(t)
View(t)
for (i in len(test)) {
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
}
View(t)
t <- data.frame()
for (i in len(test)) {
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
}
View(t)
i=1
t <- data.frame()
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
t
i=2
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
t
i=3
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
t <- data.frame()
for (i in 1:len(test)) {
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
}
View(t)
unique(t$merchant)
t$date_added[1]
unlist(t$date_added[1])
t$date_added[1]
names(t)
sort(names(t))
t <- t[,c("cat_1", "cat_2", "cat_3", "long_desc", "mcat_1", "mcat_2", "mcat_3", "mcat_4", "mcat_5", "merchant", "brand", "short_desc")]
View(t)
unique(t$merchant[t$mcat_1==""])
unique(t$mcat_1)
unique(t$merchant[t$mcat_1=="Men"])
t <- data.frame()
for (i in 1:len(test)) {
test[[i]]['prod_id'] <- as.character(test[[i]]['prod_id'])
t <- rbind(t, as.data.frame(test[[i]]))
}
t <- t[,c("cat_1", "cat_2", "cat_3", "long_desc", "mcat_1", "mcat_2", "mcat_3", "mcat_4", "mcat_5", "merchant", "brand", "short_desc", "tags")]
len(t)
View(t)
View(t)
View(t)
len(t)
head(t)
